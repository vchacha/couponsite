<!DOCTYPE html>
<html>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/jquery.dataTables.js"></script>
<head>
	<style >
		nav {
			    float: left;
			    max-width: 160px;
			    margin: 0;
			    padding: 1em;
		}
		nav ul a {
		    text-decoration: none;
		}
		article {
		    margin-left: 170px;
		    border-left: 1px solid gray;
		    padding: 1em;
		    overflow: hidden;
		    }
	</style>
<meta charset="ISO-8859-1">
<title>CouponSite</title>
</head>


<script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope) {
    $scope.showMeCreateCompany = false;
    $scope.myFuncCreateCompany = function() {
        $scope.showMeCreateCompany = !$scope.showMeCreateCompany;
        $scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }
	$scope.showMeUpdateCompany = false;
    $scope.myFuncUpdateCompany = function() {
        $scope.showMeCreateCompany = false;
		$scope.showMeUpdateCompany = !$scope.showMeUpdateCompany;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }
	$scope.showMeDeleteCompany = false;
	$scope.myFuncDeleteCompany = function() {
        $scope.showMeCreateCompany = false;
        $scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = !$scope.showMeDeleteCompany;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }
	$scope.showMeFindCompany = false;
	$scope.myFuncFindCompany = function() {
        $scope.showMeCreateCompany = false;
        $scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = !$scope.showMeFindCompany;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }	
	$scope.showMeGetAllCompany = false;
	$scope.myFuncGetAllCompany = function() {
        $scope.showMeCreateCompany = false;
        $scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }		
	
    $scope.showMeCreateCustomer = false;
    $scope.myFuncCreateCustomer = function() {
        $scope.showMeCreateCompany = false;
		$scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = !$scope.showMeCreateCustomer;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }	
	$scope.showMeUpdateCustomer = false;
    $scope.myFuncUpdateCustomer = function() {
        $scope.showMeCreateCompany = false;
		$scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = !$scope.showMeUpdateCustomer;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }
	$scope.showMeDeleteCustomer = false;
    $scope.myFuncDeleteCustomer = function() {
        $scope.showMeCreateCompany = false;
		$scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = !$scope.showMeDeleteCustomer;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }
	$scope.showMeFindCustomer = false;
    $scope.myFuncFindCustomer = function() {
        $scope.showMeCreateCompany = false;
		$scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = !$scope.showMeFindCustomer;
		$scope.showMeGetAllCustomer = false;
    }
	$scope.showMeGetAllCustomer = false;
    $scope.myFuncGetAllCustomer = function() {
        $scope.showMeCreateCompany = false;
		$scope.showMeUpdateCompany = false;
		$scope.showMeDeleteCompany = false;
		$scope.showMeFindCompany = false;
		$scope.showMeGetAllCompany = false;
		$scope.showMeCreateCustomer = false;
		$scope.showMeUpdateCustomer = false;
		$scope.showMeDeleteCustomer = false;
		$scope.showMeFindCustomer = false;
		$scope.showMeGetAllCustomer = false;
    }
});

function CreateCompany1() {
	var companyid = $("#createcompanycompanyid").val();
	var companyname = $("#createcompanycompanyname").val();
	var password = $("#createcompanypassword").val();
	var email = $("#createcompanyemail").val();
	xhr = new XMLHttpRequest();
	var url = "http://localhost:8080/jerseyservice/rest/admin/createcompany/" + companyid + "/" + companyname + "/" + password + "/" + email;
	xhr.open("POST", url, true);
	xhr.setRequestHeader("Content-type", "application/json");
	xhr.onreadystatechange = function () { 
	     if (xhr.status == 200) {
	        var messageboxHtml = document.getElementById("createcompanymessagebox");
	        messageboxHtml.innerHTML = xhr.responseText;
	    } else {
	    	 alert('Action failed: ' + xhr.responseText);
	    }
	}
	xhr.send();
}

function UpdateCompany1() {
	var companyid = $("#updatecompanycompanyid").val();
	var companyname = $("#updatecompanycompanyname").val();
	var password = $("#updatecompanypassword").val();
	var email = $("#updatecompanyemail").val();
	xhr = new XMLHttpRequest();
	var url = "http://localhost:8080/jerseyservice/rest/admin/updatecompany/" + companyid + "/" + companyname + "/" + password + "/" + email;
	xhr.open("POST", url, true);
	xhr.setRequestHeader("Content-type", "application/json");
	xhr.onreadystatechange = function () { 
	     if (xhr.status == 200) {
	        var messageboxHtml = document.getElementById("updatecompanymessagebox");
	        messageboxHtml.innerHTML = xhr.responseText;
	    } else {
	    	if (xhr.status == 201) {
		        var messageboxHtml = document.getElementById("updatecompanymessagebox");
		        messageboxHtml.innerHTML = xhr.responseText;
	    			} else {
	    				 alert('Action failed: ' + xhr.responseText);
	    				}
	    		}
		}
	xhr.send();
}

function DeleteCompany1() {
	var companyid = $("#deletecompanycompanyid").val();
	var companyname = $("#deletecompanycompanyname").val();
	var password = $("#deletecompanypassword").val();
	var email = $("#deletecompanyemail").val();
	xhr = new XMLHttpRequest();
	var url = "http://localhost:8080/jerseyservice/rest/admin/deletecompany/" + companyid + "/" + companyname + "/" + password + "/" + email;
	xhr.open("DELETE", url, true);
	xhr.setRequestHeader("Content-type", "application/json");
	xhr.onreadystatechange = function () { 
	     if (xhr.status == 200) {
	        var messageboxHtml = document.getElementById("deletecompanymessagebox");
	        messageboxHtml.innerHTML = xhr.responseText;
	    } else {
	    	if (xhr.status == 201) {
		        var messageboxHtml = document.getElementById("deletecompanymessagebox");
		        messageboxHtml.innerHTML = xhr.responseText;
	    			} else {
	    				 alert('Action failed: ' + xhr.responseText);
	    				}
	    		}
		}
	xhr.send();
}
function FindCompany1() {
	var extractedCompanyId = $("#findcompanycompanyid").val();
	xhr = new XMLHttpRequest();
	var url = "http://localhost:8080/jerseyservice/rest/admin/getcompany/" + extractedCompanyId;
	xhr.open("GET", url, true);
	xhr.setRequestHeader("Content-type", "application/json");
	xhr.send();	
	xhr.onreadystatechange = function() {
		if (this.status == 200) {
			var responseAsString = xhr.responseText;
			try {
				var responseAsJsonObj = JSON.parse(responseAsString);
			} catch (err) {
				console.log("error in parsing JSON");
			}							
			var findcompanycompanynameHtml = document.getElementById("findcompanycompanyname");
			findcompanycompanynameHtml.value = responseAsJsonObj.companyName;
			var findcompanypasswordHtml = document.getElementById("findcompanypassword");
			findcompanypasswordHtml.value = responseAsJsonObj.password;
			var findcompanyemailHtml = document.getElementById("findcompanyemail");
			findcompanyemailHtml.value = responseAsJsonObj.email;
			var messageBox = document.getElementById("findcompanymessagebox");
			messageBox.innerHTML = "got company: " + extractedCompanyId;
			
		} else { 
				if (this.status == 201){
					var messageboxHtml = document.getElementById("findcompanymessagebox");
	        		messageboxHtml.innerHTML = xhr.responseText;
				} else {
						alert('Action failed: ' + xhr.responseText);
						}
				}
	}	 
}
function CreateCustomer1() {
	var customerid = $("#createcustomercustomerid").val();
	var customername = $("#createcustomercustomername").val();
	var password = $("#createcustomerpassword").val();
	var email = $("#createcustomeremail").val();
	xhr = new XMLHttpRequest();
	var url = "http://localhost:8080/jerseyservice/rest/admin/createcustomer/" + customerid + "/" + customername + "/" + password + "/" + email;
	xhr.open("POST", url, true);
	xhr.setRequestHeader("Content-type", "application/json");
	xhr.onreadystatechange = function () { 
	     if (xhr.status == 200) {
	        var messageboxHtml = document.getElementById("createcustomermessagebox");
	        messageboxHtml.innerHTML = xhr.responseText;
	    } else {
	    	 alert('Action failed: ' + xhr.responseText);
	    }
	}
	xhr.send();
}

function UpdateCustomer1() {
	var customerid = $("#updatecustomercustomerid").val();
	var customername = $("#updatecustomercustomername").val();
	var password = $("#updatecustomerpassword").val();
	var email = $("#updatecustomeremail").val();
	xhr = new XMLHttpRequest();
	var url = "http://localhost:8080/jerseyservice/rest/admin/updatecustomer/" + customerid + "/" + customername + "/" + password + "/" + email;
	xhr.open("POST", url, true);
	xhr.setRequestHeader("Content-type", "application/json");
	xhr.onreadystatechange = function () { 
	     if (xhr.status == 200) {
	        var messageboxHtml = document.getElementById("updatecustomermessagebox");
	        messageboxHtml.innerHTML = xhr.responseText;
	    } else {
	    	if (xhr.status == 201) {
		        var messageboxHtml = document.getElementById("updatecustomermessagebox");
		        messageboxHtml.innerHTML = xhr.responseText;
	    			} else {
	    				 alert('Action failed: ' + xhr.responseText);
	    				}
	    		}
		}
	xhr.send();
}

function DeleteCustomer1() {
	var customerid = $("#deletecustomercustomerid").val();
	var customername = $("#deletecustomercustomername").val();
	var password = $("#deletecustomerpassword").val();
	var email = $("#deletecustomeremail").val();
	xhr = new XMLHttpRequest();
	var url = "http://localhost:8080/jerseyservice/rest/admin/deletecustomer/" + customerid + "/" + customername + "/" + password + "/" + email;
	xhr.open("DELETE", url, true);
	xhr.setRequestHeader("Content-type", "application/json");
	xhr.onreadystatechange = function () { 
	     if (xhr.status == 200) {
	        var messageboxHtml = document.getElementById("deletecustomermessagebox");
	        messageboxHtml.innerHTML = xhr.responseText;
	    } else {
	    	if (xhr.status == 201) {
		        var messageboxHtml = document.getElementById("deletecustomermessagebox");
		        messageboxHtml.innerHTML = xhr.responseText;
	    			} else {
	    				 alert('Action failed: ' + xhr.responseText);
	    				}
	    		}
		}
	xhr.send();
}
function FindCustomer1() {
	var extractedCustomerId = $("#findcustomercustomerid").val();
	xhr = new XMLHttpRequest();
	var url = "http://localhost:8080/jerseyservice/rest/admin/getcustomer/" + extractedCustomerId;
	xhr.open("GET", url, true);
	xhr.setRequestHeader("Content-type", "application/json");
	xhr.send();	
	xhr.onreadystatechange = function() {
		if (this.status == 200) {
			var responseAsString = xhr.responseText;
			try {
				var responseAsJsonObj = JSON.parse(responseAsString);
			} catch (err) {
				console.log("error in parsing JSON");
			}							
			var findcustomercustomernameHtml = document.getElementById("findcustomercustomername");
			findcustomercustomernameHtml.value = responseAsJsonObj.customerName;
			var findcustomerpasswordHtml = document.getElementById("findcustomerpassword");
			findcustomerpasswordHtml.value = responseAsJsonObj.password;
			var findcustomeremailHtml = document.getElementById("findcustomeremail");
			findcustomeremailHtml.value = responseAsJsonObj.email;
			var messageBox = document.getElementById("findcustomermessagebox");
			messageBox.innerHTML = "got customer: " + extractedCustomerId;
			
		} else { 
				if (this.status == 201){
					var messageboxHtml = document.getElementById("findcustomermessagebox");
	        		messageboxHtml.innerHTML = xhr.responseText;
				} else {
						alert('Action failed: ' + xhr.responseText);
						}
				}
	}	 
}
</script>

<div id="Admin">
	<header>
   		<h1>Welcome Admin</h1>
	</header>
</div>
<body ng-app="myApp" ng-controller="myCtrl">
	<nav>
  		<ul>
		    <li><a ng-click="myFuncCreateCompany()" href="#">Create Company</a></li>
		    <li><a ng-click="myFuncUpdateCompany()" href="#">Update Company</a></li>
		    <li><a ng-click="myFuncDeleteCompany()" href="#">Delete Company</a></li>
		    <li><a ng-click="myFuncFindCompany()" href="#">Find Company</a></li>
		    <li><a ng-click="myFuncGetAllCompany()" href="#">Get All Companies</a></li>
		    <br/>
			<br/>
			<li><a ng-click="myFuncCreateCustomer()" href="#">Create Customer</a></li>
		    <li><a ng-click="myFuncUpdateCustomer()" href="#">Update Customer</a></li>
		    <li><a ng-click="myFuncDeleteCustomer()" href="#">Delete Customer</a></li>
		    <li><a ng-click="myFuncFindCustomer()" href="#">Find Customer</a></li>
		    <li><a ng-click="myFuncGetAllCustomer()" href="#">Get All Customers</a></li>
  		</ul>
	</nav>

<article ng-show="showMeCreateCompany">
		<h1>Create Company</h1>
			<form action="createcompany">
				<div name= "createcompany">
					Company ID: <input type="number" placeholder="Company ID"  name="companyid" id="createcompanycompanyid"/> 
					<br/>
					<br/>
					Company Name: <input type="text" placeholder="Company Name"  name="companyname" id="createcompanycompanyname"/> 			
					<br/>
					<br/>
					Password: <input type="text" placeholder="Password"  name="password" id="createcompanypassword"/> 
					<br/>
					<br/>
					Email: <input type="email" placeholder="Email"  name="email" id="createcompanyemail"/>
					<br/>					
					<br/>
					<input value="Submit" type="button" onclick="CreateCompany1()"/>
					<br/>
					<br/>
					<div id="createcompanymessagebox"> <textarea> </textarea></div>
				</div>
			</form>		
</article>

<article ng-show="showMeUpdateCompany">
		<h1>Update Company</h1>
			<form action="updatecompany">
				<div name= "updatecompany">
					Company ID: <input type="number" placeholder="Company ID"  name="companyid" id="updatecompanycompanyid"/> 
					<br/>
					<br/>
					Company Name: <input type="text" placeholder="Company Name"  name="companyname" id="updatecompanycompanyname"/> 			
					<br/>
					<br/>
					Password: <input type="text" placeholder="Password"  name="password" id="updatecompanypassword"/> 
					<br/>
					<br/>
					Email: <input type="email" placeholder="Email"  name="email" id="updatecompanyemail"/>
					<br/>					
					<br/>
					<input value="Submit" type="button" onclick="UpdateCompany1()"/>
					<br/>
					<br/>
					<div id="updatecompanymessagebox"> <textarea> </textarea></div>
				</div> 
			</form>		
</article>

<article ng-show="showMeDeleteCompany">
		<h1>Delete Company</h1>
			<form action="deletecompany">
				<div name= "deletecompany">
					Company ID: <input type="number" placeholder="Company ID"  name="companyid" id="deletecompanycompanyid"/> 
					<br/>
					<br/>
					Company Name: <input type="text" placeholder="Company Name"  name="companyname" id="deletecompanycompanyname"/> 			
					<br/>
					<br/>
					Password: <input type="text" placeholder="Password"  name="password" id="deletecompanypassword"/> 
					<br/>
					<br/>
					Email: <input type="email" placeholder="Email"  name="email" id="deletecompanyemail"/>
					<br/>					
					<br/>
					<input value="Submit" type="button" onclick="DeleteCompany1()"/>
					<br/>
					<br/>
					<div id="deletecompanymessagebox"> <textarea> </textarea></div>
				</div>
			</form>		
</article>

<article ng-show="showMeFindCompany">
		<h1>Find Company by ID</h1>
			<form action="findcompany">
				<div name= "findcompany">
					Company ID: <input type="number" placeholder="Company ID"  name="companyid" id="findcompanycompanyid"/> 
					<br/>
					<br/>
					Company Name: <input type="text" readonly placeholder="Company Name"  name="companyname" id="findcompanycompanyname"/> 			
					<br/>
					<br/>
					Password: <input type="text" readonly placeholder="Password"  name="password" id="findcompanypassword"/> 
					<br/>
					<br/>
					Email: <input type="email" readonly placeholder="Email"  name="email" id="findcompanyemail"/>
					<br/>					
					<br/>
					<input value="Submit" type="button" onclick="FindCompany1()"/>
					<button type="reset" value="Reset">Reset</button>
					<br/>
					<br/>
					<div id="findcompanymessagebox"> <textarea> </textarea></div>
				</div>
			</form>		
</article>

<article ng-show="showMeCreateCustomer"> 
		<h1>Create Customer</h1>
			<form action="createcustomer">
				<div name="createcustomer"> 
					Customer ID: <input type="number" placeholder="Customer ID"  name="customerid" id="createcustomercustomerid"/> 
					<br/>
					<br/>
					Customer Name: <input type="text" placeholder="Customer Name"  name="customername" id="createcustomercustomername"/> 			
					<br/>
					<br/>
					Password: <input type="text" placeholder="Password"  name="password" id="createcustomerpassword"/> 
					<br/>
					<br/>
					Email: <input type="email" placeholder="Email"  name="email" id="createcustomeremail"/>
					<br/>
					<br/>
					<input value="Submit" type="button" onclick="CreateCustomer1()"/>
					<br/>
					<br/>
					<div id="createcustomermessagebox"> <textarea> </textarea></div>
					</div>			
				</form>		
</article>

<article ng-show="showMeUpdateCustomer"> 
		<h1>Update Customer</h1>
			<form action="updatecustomer">
				<div name="updatecustomer">
					Customer ID: <input type="number" placeholder="Customer ID"  name="customerid" id="updatecustomercustomerid"/> 
					<br/>
					<br/>
					Customer Name: <input type="text" placeholder="Customer Name"  name="customername" id="updatecustomercustomername"/> 			
					<br/>
					<br/>
					Password: <input type="text" placeholder="Password"  name="password" id="updatecustomerpassword"/> 
					<br/>
					<br/>
					Email: <input type="email" placeholder="Email"  name="email" id="updatecustomeremail"/>
					<br/>
					<br/>
					<input value="Submit" type="button" onclick="UpdateCustomer1()"/>
					<br/>
					<br/>
					<div id="updatecustomermessagebox"> <textarea> </textarea></div>
					</div>			
				</form>		
</article>

<article ng-show="showMeDeleteCustomer"> 
		<h1>Delete Customer</h1>
			<form action="deletecustomer">
				<div name="deletecustomer">
					Customer ID: <input type="number" placeholder="Customer ID"  name="customerid" id="deletecustomercustomerid"/> 
					<br/>
					<br/>
					Customer Name: <input type="text" placeholder="Customer Name"  name="customername" id="deletecustomercustomername"/> 			
					<br/>
					<br/>
					Password: <input type="text" placeholder="Password"  name="password" id="deletecustomerpassword"/> 
					<br/>
					<br/>
					Email: <input type="email" placeholder="Email"  name="email" id="deletecustomeremail"/>
					<br/>
					<br/>
					<input value="Submit" type="button" onclick="DeleteCustomer1()"/>
					<br/>
					<br/>
					<div id="deletecustomermessagebox"> <textarea> </textarea></div>
					</div>			
			</form>	
</article>

<article ng-show="showMeFindCustomer"> 
		<h1>Find Customer by ID</h1>
			<form action="findcustomer">
				<div name="findcustomer">
					Customer ID: <input type="number" placeholder="Customer ID"  name="customerid" id="findcustomercustomerid"/> 
					<br/>
					<br/>
					Customer Name: <input type="text" readonly placeholder="Customer Name"  name="customername" id="findcustomercustomername"/> 			
					<br/>
					<br/>
					Password: <input type="text" readonly placeholder="Password"  name="password" id="findcustomerpassword"/> 
					<br/>
					<br/>
					Email: <input type="email" readonly placeholder="Email"  name="email" id="findcustomeremail"/>
					<br/>
					<br/>
					<input value="Submit" type="button" onclick="FindCustomer1()"/>
					<button type="reset" value="Reset">Reset</button>
					<br/>
					<br/>
					<div id="findcustomermessagebox"> <textarea> </textarea></div>
					</div>			
			</form>		
</article>

</body>
</html>
